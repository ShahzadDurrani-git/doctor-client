{"ast":null,"code":"var _jsxFileName = \"C:\\\\laragon\\\\www\\\\sales-automation\\\\sales\\\\src\\\\components\\\\misc\\\\GroupBlock.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport DatePicker from 'react-datepicker';\nimport moment from 'moment';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport { useParams } from \"react-router-dom\";\nimport Button from \"./Button\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Block = _ref => {\n  _s();\n  let {\n    group,\n    setGroup,\n    setToggler,\n    toggler,\n    fromDate,\n    setFromDate,\n    toDate,\n    setToDate,\n    filterData,\n    setFilterData\n  } = _ref;\n  const [groupName, setGroupName] = useState();\n  const [allGroups, setAllGroups] = useState();\n  const [forwardNumber, setForwardNumber] = useState();\n  const [chats, setAllChats] = useState(null);\n  const [chatWithPhone, setChatWithPhone] = useState(null);\n  const [transformedData, setTransfromedData] = useState();\n  const [errorMessage, setErrorMessage] = useState(null);\n  const [messages, setMessages] = useState();\n  const [file, setFile] = useState(null);\n  let {\n    id\n  } = useParams();\n  // upload excel file\n\n  const handleUploadFile = () => {\n    if (!file) {\n      console.log('No file selected.');\n      return;\n    }\n    const formData = new FormData();\n    formData.append('excel_file', file);\n    formData.append('id', id);\n    fetch('http://localhost:9000/api/upload-excel', {\n      method: 'POST',\n      body: formData\n    }).then(response => console.log(response)).then(data => {\n      console.log('Upload response:', data);\n    }).catch(error => {\n      console.error('Error uploading audio:', error);\n    });\n    alert('Uploaded Successfully');\n  };\n  const [selectedGroupId, setSelectedGroupId] = useState(\"\");\n  const [phoneNumber, setPhoneNumber] = useState(\"\");\n  const handleGroup = () => {\n    axios.post(\"http://localhost:9000/api/create-group\", {\n      name: groupName,\n      phoneNumbers: []\n    }).then(response => {\n      alert(\"Success: Group Created Successfully\");\n    });\n  };\n  useEffect(() => {\n    axios.get(\"http://localhost:9000/api/groups\").then(response => {\n      setAllGroups(response.data.groups);\n    });\n  }, []);\n  useEffect(() => {\n    axios.get(\"http://localhost:9000/api/groups\").then(response => {\n      setAllGroups(response.data.groups);\n    });\n    axios.get(\"http://localhost:9000/api/forwarding\").then(response => {\n      // setForwardNumber(response.data.groups);\n      setForwardNumber(response.data.forwardingNumbers[0].number);\n    });\n    axios.get(\"http://localhost:9000/api/messages\").then(response => {\n      setMessages(response.data.messages);\n      console.log('MESSAGES ::::', response.data.messages);\n    });\n  }, []);\n\n  // Function to extract the number inside the angle brackets from the clid property\n  const extractNumberFromClid = clid => {\n    const regex = /<(\\d{1,})>/;\n    const match = clid.match(regex);\n    return match && match[1] ? match[1] : null;\n  };\n\n  // Update the clid property for each chat object\n  const updatedChats = chats === null || chats === void 0 ? void 0 : chats.map(chat => {\n    const extractedNumber = extractNumberFromClid(chat.clid);\n    return {\n      ...chat,\n      clid: extractedNumber ? extractedNumber : chat.clid\n    };\n  });\n  useEffect(() => {\n    setChatWithPhone(updatedChats);\n  }, [chats]);\n  const handleCalling = () => {\n    let phoneNumbers = [];\n    console.log(\"allGroups ::\", allGroups);\n    allGroups === null || allGroups === void 0 ? void 0 : allGroups.filter(itm => {\n      if (selectedGroupId) {\n        return (itm === null || itm === void 0 ? void 0 : itm._id) === selectedGroupId;\n      } else {\n        return true;\n      }\n    }).forEach((group, index) => {\n      var _group$phoneNumbers;\n      (_group$phoneNumbers = group.phoneNumbers) === null || _group$phoneNumbers === void 0 ? void 0 : _group$phoneNumbers.forEach((item, subIndex) => {\n        if (item !== null && item !== void 0 && item.number) {\n          phoneNumbers.push(\"96\" + (item === null || item === void 0 ? void 0 : item.number));\n        } else {\n          phoneNumbers.push(\"96\" + item);\n        }\n      });\n    });\n    let tempPhone = [{\n      calls: \"2\",\n      trunk: \"1001\",\n      forward: forwardNumber\n    }, phoneNumbers];\n    axios.post(\"http://16.163.178.109/aivoip/autodial/dial_numbers_1.php\", tempPhone).then(response => {\n      console.log(response);\n\n      // Check if the response indicates an error\n      if (response.data && response.data.error) {\n        // Display an alert with the error message\n        alert(`Error: ${response.data.error}`);\n      } else {\n        // Success, show a success message or perform any other actions\n        alert(\"Calling Phone Numbers, Status will be updated soon\");\n      }\n    }).catch(error => {\n      console.error(\"Error:\", error);\n\n      // Display an alert for any network or request-related errors\n      alert(\"An error occurred while making the API request.\");\n    });\n    alert(\"Calling Phone Numbers, Status will be updated soon\");\n  };\n  const handleAddPhoneNumber = () => {\n    if (!selectedGroupId || !phoneNumber) {\n      alert(\"Please select a group and provide a phone number.\");\n      return;\n    }\n    const newPhoneNumberData = {\n      groupId: selectedGroupId,\n      phoneNumber: phoneNumber,\n      status: \"calling\",\n      // Example status value\n      duration: \"10s\",\n      // Example duration value\n      keyword: \"yes\",\n      // Example keyword value\n      answered: \"yes\" // Example answered value\n    };\n\n    axios.post(\"http://localhost:9000/api/add-phone-number\", {\n      groupId: selectedGroupId,\n      phoneNumber: phoneNumber\n    }).then(response => {\n      console.log(response);\n      alert(\"Successfully added a new phone number\");\n    });\n\n    // Clear the input fields after adding the phone number\n    setSelectedGroupId(\"\");\n    setPhoneNumber(\"\");\n  };\n  const [isChecked, setIsChecked] = useState(false);\n  const handleToggle = () => {\n    localStorage.setItem(\"toggle\", !isChecked);\n    setIsChecked(!isChecked);\n    setToggler(!isChecked);\n  };\n\n  //from and to date filter handling here\n  const filterHandler = () => {\n    if (fromDate && toDate) {\n      const filterResult = group === null || group === void 0 ? void 0 : group.phoneNumbers.filter(item => {\n        const itemDate = moment(item === null || item === void 0 ? void 0 : item.createdAt).format('YYYY/MM/DD');\n        return itemDate >= fromDate && itemDate <= toDate;\n      });\n      setFilterData(filterResult);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white shadow-md sm:rounded-lg flex justify-end p-8 flex-wrap gap-3\",\n    \"data-testid\": \"groupBlockContainer\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full flex gap-2 items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-2/12\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-medium\",\n          children: \"Group Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-8/12\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"group--block--input rounded\",\n          value: groupName,\n          onChange: e => {\n            setGroupName(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-2/12\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          text: \"Add Group\",\n          onClick: handleGroup,\n          active: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full flex gap-2 items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-6/12\",\n        children: /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"group--block--input rounded\",\n          value: selectedGroupId,\n          onChange: e => setSelectedGroupId(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Select a Group\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this), allGroups === null || allGroups === void 0 ? void 0 : allGroups.map(group => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: group._id,\n            children: group.name\n          }, group._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-3/12\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"group--block--input rounded\",\n          value: phoneNumber,\n          onChange: e => setPhoneNumber(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-3/12\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          text: \"Add Phone\",\n          onClick: handleAddPhoneNumber,\n          active: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-3/12\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleCalling,\n          text: \"Start / Stop Calling\",\n          active: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full flex gap-2 items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-4/12 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-medium w-40 mr-4\",\n          style: {\n            textWrap: 'nowrap'\n          },\n          children: \"Upload Excel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          className: \"group--block--input rounded w-1/2\",\n          id: \"file_input\",\n          onChange: e => {\n            setFile(e.target.files[0]);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-2/12\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            handleUploadFile();\n          },\n          className: \"btn btn-primary flex gap-1 p-2 rounded items-center bg--active white-color button--main--color\",\n          children: \"Upload\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-2/12\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"fromDate\",\n          value: fromDate,\n          onChange: e => setFromDate(e.target.value),\n          className: \"group--block--input rounded\",\n          placeholder: \"YYYY/MM/DD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-2/12\",\n        children: /*#__PURE__*/_jsxDEV(DatePicker, {\n          customInput: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/imgs/calendar.svg\",\n            style: {\n              width: \"2rem\",\n              height: \"2rem\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 26\n          }, this),\n          maxDate: new Date(),\n          onChange: date => setFromDate(moment(date).format('YYYY/MM/DD'))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-2/12\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"toDate\",\n          value: toDate,\n          onChange: e => setToDate(e.target.value),\n          className: \"group--block--input rounded\",\n          placeholder: \"YYYY/MM/DD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-2/12\",\n        children: /*#__PURE__*/_jsxDEV(DatePicker, {\n          customInput: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/imgs/calendar.svg\",\n            style: {\n              width: \"2rem\",\n              height: \"2rem\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 26\n          }, this),\n          maxDate: new Date(),\n          onChange: date => {\n            setToDate(moment(date).format('YYYY/MM/DD'));\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-2/12\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          text: \"Filter\",\n          onClick: filterHandler,\n          active: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center space-x-4\",\n      children: /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"flex items-center cursor-pointer\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            className: \"sr-only\",\n            checked: isChecked,\n            onChange: handleToggle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `block bg-gray-600 w-10 h-6 rounded-full transition ${isChecked ? \"bg-green-500\" : \"bg-gray-600\"}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `dot absolute  top-1 w-4 h-4 rounded-full transition ${isChecked ? \"bg-white left-5\" : \"bg-gray-400 left-1\"}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ml-3 text-gray-700 font-medium\",\n          children: \"Filter Answered\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 7\n    }, this), errorMessage && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400 absolute top-2 left-50\",\n        role: \"alert\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          class: \"font-medium\",\n          children: \"Danger alert!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 13\n        }, this), \" \", errorMessage]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 11\n      }, this)\n    }, void 0, false)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 214,\n    columnNumber: 5\n  }, this);\n};\n_s(Block, \"HeicHXqcWT6GYYYPUj5yTYfAkTw=\", false, function () {\n  return [useParams];\n});\n_c = Block;\nexport default Block;\nvar _c;\n$RefreshReg$(_c, \"Block\");","map":{"version":3,"names":["React","useEffect","useState","DatePicker","moment","useParams","Button","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","Block","_ref","_s","group","setGroup","setToggler","toggler","fromDate","setFromDate","toDate","setToDate","filterData","setFilterData","groupName","setGroupName","allGroups","setAllGroups","forwardNumber","setForwardNumber","chats","setAllChats","chatWithPhone","setChatWithPhone","transformedData","setTransfromedData","errorMessage","setErrorMessage","messages","setMessages","file","setFile","id","handleUploadFile","console","log","formData","FormData","append","fetch","method","body","then","response","data","catch","error","alert","selectedGroupId","setSelectedGroupId","phoneNumber","setPhoneNumber","handleGroup","post","name","phoneNumbers","get","groups","forwardingNumbers","number","extractNumberFromClid","clid","regex","match","updatedChats","map","chat","extractedNumber","handleCalling","filter","itm","_id","forEach","index","_group$phoneNumbers","item","subIndex","push","tempPhone","calls","trunk","forward","handleAddPhoneNumber","newPhoneNumberData","groupId","status","duration","keyword","answered","isChecked","setIsChecked","handleToggle","localStorage","setItem","filterHandler","filterResult","itemDate","createdAt","format","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","target","text","onClick","active","style","textWrap","files","placeholder","customInput","src","width","height","maxDate","Date","date","checked","class","role","_c","$RefreshReg$"],"sources":["C:/laragon/www/sales-automation/sales/src/components/misc/GroupBlock.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport DatePicker from 'react-datepicker';\r\nimport moment from 'moment';\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\nimport { useParams } from \"react-router-dom\";\r\nimport Button from \"./Button\";\r\nimport axios from \"axios\";\r\n\r\nconst Block = ({ group, setGroup, setToggler, toggler, fromDate, setFromDate, toDate, setToDate, filterData, setFilterData }) => {\r\n  const [groupName, setGroupName] = useState();\r\n  const [allGroups, setAllGroups] = useState();\r\n  const [forwardNumber, setForwardNumber] = useState();\r\n  const [chats, setAllChats] = useState(null);\r\n  const [chatWithPhone, setChatWithPhone] = useState(null);\r\n  const [transformedData, setTransfromedData] = useState();\r\n  const [errorMessage, setErrorMessage] = useState(null)\r\n  const [messages, setMessages] = useState();\r\n  const [file, setFile] = useState(null)\r\n\r\n  let { id } = useParams();\r\n  // upload excel file\r\n\r\n  const handleUploadFile = () => {\r\n    if (!file) {\r\n      console.log('No file selected.');\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append('excel_file', file);\r\n    formData.append('id', id);\r\n\r\n    fetch('http://localhost:9000/api/upload-excel', {\r\n      method: 'POST',\r\n      body: formData,\r\n    })\r\n      .then((response) => console.log(response))\r\n      .then((data) => {\r\n        console.log('Upload response:', data);\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error uploading audio:', error);\r\n      });\r\n\r\n      alert('Uploaded Successfully');\r\n  };\r\n\r\n  const [selectedGroupId, setSelectedGroupId] = useState(\"\");\r\n  const [phoneNumber, setPhoneNumber] = useState(\"\");\r\n\r\n\r\n  const handleGroup = () => {\r\n    axios\r\n      .post(\"http://localhost:9000/api/create-group\", {\r\n        name: groupName,\r\n        phoneNumbers: [],\r\n      })\r\n      .then((response) => {\r\n        alert(\"Success: Group Created Successfully\");\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    axios.get(\"http://localhost:9000/api/groups\").then((response) => {\r\n      setAllGroups(response.data.groups);\r\n    });\r\n  }, []);\r\n\r\n\r\n  useEffect(() => {\r\n    axios.get(\"http://localhost:9000/api/groups\").then((response) => {\r\n      setAllGroups(response.data.groups);\r\n    });\r\n    axios.get(\"http://localhost:9000/api/forwarding\").then((response) => {\r\n      // setForwardNumber(response.data.groups);\r\n      setForwardNumber(response.data.forwardingNumbers[0].number);\r\n    });\r\n    axios.get(\"http://localhost:9000/api/messages\").then((response) => {\r\n      setMessages(response.data.messages);\r\n      console.log('MESSAGES ::::', response.data.messages)\r\n    });\r\n  }, []);\r\n\r\n  // Function to extract the number inside the angle brackets from the clid property\r\n  const extractNumberFromClid = (clid) => {\r\n    const regex = /<(\\d{1,})>/;\r\n    const match = clid.match(regex);\r\n    return match && match[1] ? match[1] : null;\r\n  };\r\n\r\n  // Update the clid property for each chat object\r\n  const updatedChats = chats?.map((chat) => {\r\n    const extractedNumber = extractNumberFromClid(chat.clid);\r\n    return {\r\n      ...chat,\r\n      clid: extractedNumber ? extractedNumber : chat.clid,\r\n    };\r\n  });\r\n\r\n  useEffect(() => {\r\n    setChatWithPhone(updatedChats);\r\n  }, [chats]);\r\n\r\n\r\n  const handleCalling = () => {\r\n\r\n    let phoneNumbers = [];\r\n    console.log(\"allGroups ::\", allGroups);\r\n    allGroups?.filter((itm) => {\r\n      if (selectedGroupId) {\r\n        return itm?._id === selectedGroupId\r\n      } else {\r\n        return true;\r\n      }\r\n    }).forEach((group, index) => {\r\n      group.phoneNumbers?.forEach((item, subIndex) => {\r\n        if (item?.number) {\r\n          phoneNumbers.push(\"96\" + item?.number);\r\n        } else {\r\n          phoneNumbers.push(\"96\" + item);\r\n        }\r\n      });\r\n    });\r\n\r\n    let tempPhone = [\r\n      {\r\n        calls: \"2\",\r\n        trunk: \"1001\",\r\n        forward: forwardNumber,\r\n      },\r\n      phoneNumbers,\r\n    ];\r\n\r\n    axios\r\n      .post(\r\n        \"http://16.163.178.109/aivoip/autodial/dial_numbers_1.php\",\r\n        tempPhone\r\n      )\r\n      .then((response) => {\r\n        console.log(response)\r\n\r\n        // Check if the response indicates an error\r\n    if (response.data && response.data.error) {\r\n      // Display an alert with the error message\r\n      alert(`Error: ${response.data.error}`);\r\n    } else {\r\n      // Success, show a success message or perform any other actions\r\n      alert(\"Calling Phone Numbers, Status will be updated soon\");\r\n    }\r\n\r\n      }).catch((error) => {\r\n        console.error(\"Error:\", error);\r\n    \r\n        // Display an alert for any network or request-related errors\r\n        alert(\"An error occurred while making the API request.\");\r\n      });\r\n\r\n    alert(\"Calling Phone Numbers, Status will be updated soon\");\r\n  };\r\n\r\n  const handleAddPhoneNumber = () => {\r\n    if (!selectedGroupId || !phoneNumber) {\r\n      alert(\"Please select a group and provide a phone number.\");\r\n      return;\r\n    }\r\n\r\n    const newPhoneNumberData = {\r\n      groupId: selectedGroupId,\r\n      phoneNumber: phoneNumber,\r\n      status: \"calling\", // Example status value\r\n      duration: \"10s\", // Example duration value\r\n      keyword: \"yes\", // Example keyword value\r\n      answered: \"yes\", // Example answered value\r\n    };\r\n\r\n    axios\r\n      .post(\"http://localhost:9000/api/add-phone-number\", {\r\n        groupId: selectedGroupId,\r\n        phoneNumber: phoneNumber,\r\n      })\r\n      .then((response) => {\r\n        console.log(response);\r\n        alert(\"Successfully added a new phone number\");\r\n      });\r\n\r\n    // Clear the input fields after adding the phone number\r\n    setSelectedGroupId(\"\");\r\n    setPhoneNumber(\"\");\r\n  };\r\n\r\n  const [isChecked, setIsChecked] = useState(false);\r\n\r\n  const handleToggle = () => {\r\n    localStorage.setItem(\"toggle\", !isChecked);\r\n    setIsChecked(!isChecked);\r\n    setToggler(!isChecked);\r\n  };\r\n\r\n\r\n  //from and to date filter handling here\r\n  const filterHandler = () => {\r\n    if (fromDate && toDate) {\r\n      const filterResult = group?.phoneNumbers.filter(item => {\r\n        const itemDate = moment(item?.createdAt).format('YYYY/MM/DD');\r\n        return itemDate >= fromDate && itemDate <= toDate;\r\n      });\r\n\r\n      setFilterData(filterResult);\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"bg-white shadow-md sm:rounded-lg flex justify-end p-8 flex-wrap gap-3\" data-testid=\"groupBlockContainer\">\r\n     \r\n      <div className=\"w-full flex gap-2 items-center\">\r\n        <div className=\"w-2/12\">\r\n          <p className=\"font-medium\">Group Name</p>\r\n        </div>\r\n        <div className=\"w-8/12\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"group--block--input rounded\"\r\n            value={groupName}\r\n            onChange={(e) => {\r\n              setGroupName(e.target.value);\r\n            }}\r\n          />\r\n        </div>\r\n        <div className=\"w-2/12\">\r\n          <Button text=\"Add Group\" onClick={handleGroup} active />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"w-full flex gap-2 items-center\">\r\n        {/* <div className=\"w-2/12\">\r\n                    <Button text='Upload Phone .xls' active />\r\n                </div> */}\r\n        <div className=\"w-6/12\">\r\n          {/* Select box to display all group names */}\r\n          <select\r\n            className=\"group--block--input rounded\"\r\n            value={selectedGroupId}\r\n            onChange={(e) => setSelectedGroupId(e.target.value)}\r\n          >\r\n            <option value=\"\">Select a Group</option>\r\n            {allGroups?.map((group) => (\r\n              <option key={group._id} value={group._id}>\r\n                {group.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div className=\"w-3/12\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"group--block--input rounded\"\r\n            value={phoneNumber}\r\n            onChange={(e) => setPhoneNumber(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className=\"w-3/12\">\r\n          <Button text=\"Add Phone\" onClick={handleAddPhoneNumber} active />\r\n        </div>\r\n        <div className=\"w-3/12\">\r\n          <Button onClick={handleCalling} text=\"Start / Stop Calling\" active />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"w-full flex gap-2 items-center\">\r\n        <div className=\"w-4/12 flex items-center\">\r\n          <p className=\"font-medium w-40 mr-4\" style={{ textWrap: 'nowrap' }}>Upload Excel</p>\r\n          <input \r\n            type=\"file\" \r\n            className=\"group--block--input rounded w-1/2\"\r\n            id=\"file_input\"\r\n            onChange={(e)=>{setFile(e.target.files[0])}}\r\n            />\r\n        </div>\r\n\r\n        <div className=\"w-2/12\">\r\n          <button onClick={()=>{handleUploadFile()}} className=\"btn btn-primary flex gap-1 p-2 rounded items-center bg--active white-color button--main--color\">Upload</button>\r\n        </div>\r\n        <div className=\"w-2/12\">\r\n          <input\r\n            type=\"text\"\r\n            name=\"fromDate\"\r\n            value={fromDate}\r\n            onChange={(e) => setFromDate(e.target.value)}\r\n            className=\"group--block--input rounded\"\r\n            placeholder=\"YYYY/MM/DD\"\r\n          />\r\n        </div>\r\n        <div className=\"w-2/12\">\r\n          <DatePicker\r\n            customInput={<img src=\"/imgs/calendar.svg\" style={{ width: \"2rem\", height: \"2rem\" }} />}\r\n            maxDate={new Date()}\r\n            onChange={(date) => setFromDate(moment(date).format('YYYY/MM/DD'))}\r\n          />\r\n        </div>\r\n        <div className=\"w-2/12\">\r\n          <input\r\n            type=\"text\"\r\n            name=\"toDate\"\r\n            value={toDate}\r\n            onChange={(e) => setToDate(e.target.value)}\r\n            className=\"group--block--input rounded\"\r\n            placeholder=\"YYYY/MM/DD\"\r\n          />\r\n        </div>\r\n        <div className=\"w-2/12\" >\r\n          <DatePicker\r\n            customInput={<img src=\"/imgs/calendar.svg\" style={{ width: \"2rem\", height: \"2rem\" }} />}\r\n            maxDate={new Date()}\r\n            onChange={(date) => {\r\n              setToDate(moment(date).format('YYYY/MM/DD'))\r\n            }}\r\n          />\r\n        </div>\r\n        <div className=\"w-2/12\">\r\n          <Button text=\"Filter\" onClick={filterHandler} active />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex items-center space-x-4\">\r\n        <label className=\"flex items-center cursor-pointer\">\r\n          <div className=\"relative\">\r\n            <input\r\n              type=\"checkbox\"\r\n              className=\"sr-only\"\r\n              checked={isChecked}\r\n              onChange={handleToggle}\r\n            />\r\n            <div\r\n              className={`block bg-gray-600 w-10 h-6 rounded-full transition ${isChecked ? \"bg-green-500\" : \"bg-gray-600\"\r\n                }`}\r\n            ></div>\r\n            <div\r\n              className={`dot absolute  top-1 w-4 h-4 rounded-full transition ${isChecked ? \"bg-white left-5\" : \"bg-gray-400 left-1\"\r\n                }`}\r\n            ></div>\r\n          </div>\r\n          <div className=\"ml-3 text-gray-700 font-medium\">Filter Answered</div>\r\n        </label>\r\n      </div>\r\n\r\n      {\r\n        errorMessage && <>\r\n          <div class=\"p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400 absolute top-2 left-50\"  role=\"alert\">\r\n            <span class=\"font-medium\">Danger alert!</span> {errorMessage}\r\n          </div>\r\n        </> \r\n      }\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Block;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}