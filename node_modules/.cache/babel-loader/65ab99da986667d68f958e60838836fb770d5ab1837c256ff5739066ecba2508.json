{"ast":null,"code":"import _objectSpread from\"C:/laragon/www/doctor-manager/sales/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/laragon/www/doctor-manager/sales/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import DatePicker from'react-datepicker';import moment from'moment';import'react-datepicker/dist/react-datepicker.css';import{useParams}from\"react-router-dom\";import Button from\"./Button\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var apiURL=process.env.REACT_APP_BASE_URL_LIVE;var Block=function Block(_ref){var group=_ref.group,setGroup=_ref.setGroup,setToggler=_ref.setToggler,toggler=_ref.toggler,fromDate=_ref.fromDate,setFromDate=_ref.setFromDate,toDate=_ref.toDate,setToDate=_ref.setToDate,filterData=_ref.filterData,setFilterData=_ref.setFilterData,allGroups=_ref.allGroups,setAllGroups=_ref.setAllGroups;var _useState=useState(),_useState2=_slicedToArray(_useState,2),groupName=_useState2[0],setGroupName=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),active=_useState4[0],setActive=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),forwardNumber=_useState6[0],setForwardNumber=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),chats=_useState8[0],setAllChats=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),chatWithPhone=_useState10[0],setChatWithPhone=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),transformedData=_useState12[0],setTransfromedData=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),errorMessage=_useState14[0],setErrorMessage=_useState14[1];var _useState15=useState(null),_useState16=_slicedToArray(_useState15,2),file=_useState16[0],setFile=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),selectedGroupId=_useState18[0],setSelectedGroupId=_useState18[1];var _useState19=useState(\"\"),_useState20=_slicedToArray(_useState19,2),phoneNumber=_useState20[0],setPhoneNumber=_useState20[1];var _useState21=useState(),_useState22=_slicedToArray(_useState21,2),concur=_useState22[0],setConcur=_useState22[1];var _useState23=useState(),_useState24=_slicedToArray(_useState23,2),trunkId=_useState24[0],setTrunkId=_useState24[1];var _useParams=useParams(),id=_useParams.id;useEffect(function(){setSelectedGroupId(id);axios.get(\"\".concat(apiURL,\"/api/concurrent-number\")).then(function(res){var _res$data;setConcur(res===null||res===void 0?void 0:(_res$data=res.data)===null||_res$data===void 0?void 0:_res$data.concurrentNumber.con);}).catch(function(err){console.log(err);});axios.get(\"\".concat(apiURL,\"/api/getSipSetting\")).then(function(res){setTrunkId(res.data.data.UserName);}).catch(function(err){console.log(\"error ::\",err);});},[]);// upload excel file\nvar handleUploadFile=function handleUploadFile(){if(!file){return;}var formData=new FormData();formData.append('excel_file',file);formData.append('id',id);fetch(\"\".concat(apiURL,\"/api/upload-excel\"),{method:'POST',body:formData}).then(function(response){return console.log(response);}).then(function(data){}).catch(function(error){});alert('Uploaded Successfully');};var handleGroup=function handleGroup(){axios.post(\"\".concat(apiURL,\"/api/create-group\"),{name:groupName,phoneNumbers:[]}).then(function(response){alert(\"Success: Group Created Successfully\");});};useEffect(function(){axios.get(\"\".concat(apiURL,\"/api/groups\")).then(function(response){setAllGroups(response.data.groups);});},[]);var firstData=function firstData(){setAllGroups(null);setForwardNumber(null);axios.get(\"\".concat(apiURL,\"/api/groups\")).then(function(response){setAllGroups(response.data.groups);}).catch(function(err){return console.log(err.message);});axios.get(\"\".concat(apiURL,\"/api/forwarding\")).then(function(response){// setForwardNumber(response.data.groups);\nsetForwardNumber(response.data.forwardingNumbers[0].number);}).catch(function(err){return console.log(err);});};useEffect(function(){firstData();// axios.get(`${apiURL}/api/concurrent-number`)\n//   .then((res) => {\n//     setConcur(res?.data?.concurrentNumber)\n//   })\n//   .catch((err) => {\n//   })\nconsole.log(active);},[]);// Function to extract the number inside the angle brackets from the clid property\nvar extractNumberFromClid=function extractNumberFromClid(clid){var regex=/<(\\d{1,})>/;var match=clid.match(regex);return match&&match[1]?match[1]:null;};// Update the clid property for each chat object\nvar updatedChats=chats===null||chats===void 0?void 0:chats.map(function(chat){var extractedNumber=extractNumberFromClid(chat.clid);return _objectSpread(_objectSpread({},chat),{},{clid:extractedNumber?extractedNumber:chat.clid});});useEffect(function(){setChatWithPhone(updatedChats);},[chats]);function divideArrayIntoSubarrays(array,subarraySize){var dividedArrays=[];for(var i=0;i<array.length;i+=subarraySize){var subarray=array.slice(i,i+subarraySize);dividedArrays.push(subarray);}return dividedArrays;}// const handleCalling = () => {\n//   if(active){\n//     console.log('calls has been ended');\n//     setActive(false)\n//   }\n//   setActive(true)\n//   let phoneNumbers = [];\n//   allGroups?.filter((itm) => {\n//     if (selectedGroupId) {\n//       return itm?._id === selectedGroupId\n//     } else {\n//       return true;\n//     }\n//   }).forEach((group, index) => {\n//     group.phoneNumbers?.forEach((item, subIndex) => {\n//       if (item?.number) {\n//         phoneNumbers.push(\"96\" + item?.number);\n//       } else {\n//         phoneNumbers.push(\"96\" + item);\n//       }\n//     });\n//   });\n//   // there should be a loop here\n//   // console.log('---------------------------------------', phoneNumbers)\n//   // const subarraySize = 5; // Specify the size of each subarray\n//   // const dividedArrays = divideArrayIntoSubarrays(phoneNumbers, subarraySize);\n//   // console.log('***********', dividedArrays)\n//   let tempPhone = [\n//     {\n//       calls: \"2\",\n//       trunk: \"1001\",\n//       forward: forwardNumber,\n//     },\n//     phoneNumbers,\n//   ];\n//   axios\n//     .post(\n//       `${apiURL}/api/call-numbers`,\n//       tempPhone\n//     )\n//     .then((response) => alert('Calling Status Changed!'))\n//     .catch((err) => {\n//       setActive(false)\n//       alert('Something failed! Try again Later')\n//     })\n//     console.log(active);\n// };\nvar handleCalling=function handleCalling(){if(active){axios.get(\"\".concat(apiURL,\"/api/stop-calling\")).then(function(response){return alert('Calls have been ended');}).catch(function(err){return alert('Something failed! Try again Later');});setActive(false);}else{console.log(\"all group\",allGroups);setActive(true);var phoneNumbers=[];allGroups===null||allGroups===void 0?void 0:allGroups.filter(function(itm){if(selectedGroupId){return(itm===null||itm===void 0?void 0:itm._id)===selectedGroupId;}else{return true;}}).forEach(function(group,index){var _group$phoneNumbers;(_group$phoneNumbers=group.phoneNumbers)===null||_group$phoneNumbers===void 0?void 0:_group$phoneNumbers.forEach(function(item,subIndex){console.log(\"IN FOREACH\",item.number);if(item!==null&&item!==void 0&&item.number){phoneNumbers.push(\"96\"+(item===null||item===void 0?void 0:item.number));}else{phoneNumbers.push(\"96\"+item);}});});var tempPhone=[{calls:concur,trunk:\"trk-\"+trunkId,forward:forwardNumber},phoneNumbers];axios.post(\"\".concat(apiURL,\"/api/call-numbers\"),tempPhone).then(function(response){return alert('Calling Status Changed!');}).catch(function(err){setActive(false);alert('Something failed! Try again Later');});}console.log(active);};var handleAddPhoneNumber=function handleAddPhoneNumber(){setSelectedGroupId(id);if(!id||!phoneNumber){alert(\"Please select a group and provide a phone number.\",id,phoneNumber);return;}var newPhoneNumberData={groupId:selectedGroupId,phoneNumber:phoneNumber,status:\"calling\",// Example status value\nduration:\"10s\",// Example duration value\nkeyword:\"yes\",// Example keyword value\nanswered:\"yes\"// Example answered value\n};axios.post(\"\".concat(apiURL,\"/api/add-phone-number\"),{groupId:selectedGroupId,phoneNumber:phoneNumber}).then(function(response){console.log(response);firstData();alert(\"Successfully added a new phone number\");});// Clear the input fields after adding the phone number\n// setSelectedGroupId(\"\");\nsetPhoneNumber(\"\");};var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),isChecked=_useState26[0],setIsChecked=_useState26[1];var handleToggle=function handleToggle(){localStorage.setItem(\"toggle\",!isChecked);setIsChecked(!isChecked);setToggler(!isChecked);};//from and to date filter handling here\nvar filterHandler=function filterHandler(){if(fromDate&&toDate){var filterResult=group===null||group===void 0?void 0:group.phoneNumbers.filter(function(item){var itemDate=moment(item===null||item===void 0?void 0:item.createdAt).format('YYYY/MM/DD');return itemDate>=fromDate&&itemDate<=toDate;});setFilterData(filterResult);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow-md sm:rounded-lg flex justify-end p-8 flex-wrap gap-3\",\"data-testid\":\"groupBlockContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex gap-2 items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2/12\",children:/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:\"Group Name\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-8/12\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"group--block--input rounded\",value:groupName,onChange:function onChange(e){setGroupName(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2/12\",children:/*#__PURE__*/_jsx(Button,{text:\"Add Group\",onClick:handleGroup,active:true})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex gap-2 items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-6/12\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Add phone Number\",className:\"group--block--input rounded\",value:phoneNumber,onChange:function onChange(e){return setPhoneNumber(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-3/12\",children:/*#__PURE__*/_jsx(Button,{text:\"Add Phone\",onClick:handleAddPhoneNumber,active:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-3/12\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary flex gap-1 p-2 rounded items-center w-full white-color\",onClick:handleCalling,style:{background:active?'black':'#256d85'},children:active?'Stop Calling':'Start Calling'})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex gap-2 items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-4/12 flex items-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium w-40 mr-4\",style:{textWrap:'nowrap'},children:\"Upload Excel\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"group--block--input rounded w-1/2\",id:\"file_input\",onChange:function onChange(e){setFile(e.target.files[0]);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2/12\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){handleUploadFile();},className:\"btn btn-primary flex gap-1 p-2 rounded items-center bg--active white-color button--main--color\",children:\"Upload\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2/12\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"fromDate\",value:fromDate,onChange:function onChange(e){return setFromDate(e.target.value);},className:\"group--block--input rounded\",placeholder:\"YYYY/MM/DD\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2/12\",children:/*#__PURE__*/_jsx(DatePicker,{customInput:/*#__PURE__*/_jsx(\"img\",{src:\"/imgs/calendar.svg\",style:{width:\"2rem\",height:\"2rem\"}}),maxDate:new Date(),onChange:function onChange(date){return setFromDate(moment(date).format('YYYY/MM/DD'));}})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2/12\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"toDate\",value:toDate,onChange:function onChange(e){return setToDate(e.target.value);},className:\"group--block--input rounded\",placeholder:\"YYYY/MM/DD\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2/12\",children:/*#__PURE__*/_jsx(DatePicker,{customInput:/*#__PURE__*/_jsx(\"img\",{src:\"/imgs/calendar.svg\",style:{width:\"2rem\",height:\"2rem\"}}),maxDate:new Date(),onChange:function onChange(date){setToDate(moment(date).format('YYYY/MM/DD'));}})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2/12\",children:/*#__PURE__*/_jsx(Button,{text:\"Filter\",onClick:filterHandler,active:true})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-4\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center cursor-pointer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"sr-only\",checked:isChecked,onChange:handleToggle}),/*#__PURE__*/_jsx(\"div\",{className:\"block bg-gray-600 w-10 h-6 rounded-full transition \".concat(isChecked?\"bg-green-500\":\"bg-gray-600\")}),/*#__PURE__*/_jsx(\"div\",{className:\"dot absolute  top-1 w-4 h-4 rounded-full transition \".concat(isChecked?\"bg-white left-5\":\"bg-gray-400 left-1\")})]}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-3 text-gray-700 font-medium\",children:\"Filter Answered\"})]})}),errorMessage&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{class:\"p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400 absolute top-2 left-50\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"span\",{class:\"font-medium\",children:\"Danger alert!\"}),\" \",errorMessage]})})]});};export default Block;","map":{"version":3,"names":["React","useEffect","useState","DatePicker","moment","useParams","Button","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","apiURL","process","env","REACT_APP_BASE_URL_LIVE","Block","_ref","group","setGroup","setToggler","toggler","fromDate","setFromDate","toDate","setToDate","filterData","setFilterData","allGroups","setAllGroups","_useState","_useState2","_slicedToArray","groupName","setGroupName","_useState3","_useState4","active","setActive","_useState5","_useState6","forwardNumber","setForwardNumber","_useState7","_useState8","chats","setAllChats","_useState9","_useState10","chatWithPhone","setChatWithPhone","_useState11","_useState12","transformedData","setTransfromedData","_useState13","_useState14","errorMessage","setErrorMessage","_useState15","_useState16","file","setFile","_useState17","_useState18","selectedGroupId","setSelectedGroupId","_useState19","_useState20","phoneNumber","setPhoneNumber","_useState21","_useState22","concur","setConcur","_useState23","_useState24","trunkId","setTrunkId","_useParams","id","get","concat","then","res","_res$data","data","concurrentNumber","con","catch","err","console","log","UserName","handleUploadFile","formData","FormData","append","fetch","method","body","response","error","alert","handleGroup","post","name","phoneNumbers","groups","firstData","message","forwardingNumbers","number","extractNumberFromClid","clid","regex","match","updatedChats","map","chat","extractedNumber","_objectSpread","divideArrayIntoSubarrays","array","subarraySize","dividedArrays","i","length","subarray","slice","push","handleCalling","filter","itm","_id","forEach","index","_group$phoneNumbers","item","subIndex","tempPhone","calls","trunk","forward","handleAddPhoneNumber","newPhoneNumberData","groupId","status","duration","keyword","answered","_useState25","_useState26","isChecked","setIsChecked","handleToggle","localStorage","setItem","filterHandler","filterResult","itemDate","createdAt","format","className","children","type","value","onChange","e","target","text","onClick","placeholder","style","background","textWrap","files","customInput","src","width","height","maxDate","Date","date","checked","class","role"],"sources":["C:/laragon/www/doctor-manager/sales/src/components/misc/GroupBlock.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport DatePicker from 'react-datepicker';\r\nimport moment from 'moment';\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\nimport { useParams } from \"react-router-dom\";\r\nimport Button from \"./Button\";\r\nimport axios from \"axios\";\r\n\r\nconst apiURL = process.env.REACT_APP_BASE_URL_LIVE;\r\n\r\n\r\nconst Block = ({ group, setGroup, setToggler, toggler, fromDate, setFromDate, toDate, setToDate, filterData, setFilterData, allGroups, setAllGroups }) => {\r\n  const [groupName, setGroupName] = useState();\r\n  const [active, setActive] = useState(false)\r\n  const [forwardNumber, setForwardNumber] = useState();\r\n  const [chats, setAllChats] = useState(null);\r\n  const [chatWithPhone, setChatWithPhone] = useState(null);\r\n  const [transformedData, setTransfromedData] = useState();\r\n  const [errorMessage, setErrorMessage] = useState(null)\r\n  const [file, setFile] = useState(null)\r\n  const [selectedGroupId, setSelectedGroupId] = useState(\"\");\r\n  const [phoneNumber, setPhoneNumber] = useState(\"\");\r\n  const [concur, setConcur] = useState();\r\n  const [trunkId, setTrunkId] = useState();\r\n\r\n  let { id } = useParams();\r\n\r\n\r\n  useEffect(() => {\r\n    setSelectedGroupId(id)\r\n    axios.get(`${apiURL}/api/concurrent-number`)\r\n      .then((res) => {\r\n        setConcur(res?.data?.concurrentNumber.con)\r\n      })\r\n      .catch((err) => {\r\n        console.log(err)\r\n      })\r\n\r\n      axios.get(`${apiURL}/api/getSipSetting`).then((res) => {\r\n        setTrunkId(res.data.data.UserName)\r\n    }).catch((err) => {\r\n        console.log(\"error ::\", err)\r\n    });\r\n  }, [])\r\n\r\n  // upload excel file\r\n\r\n  const handleUploadFile = () => {\r\n    if (!file) {\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append('excel_file', file);\r\n    formData.append('id', id);\r\n\r\n    fetch(`${apiURL}/api/upload-excel`, {\r\n      method: 'POST',\r\n      body: formData,\r\n    })\r\n      .then((response) => console.log(response))\r\n      .then((data) => {\r\n      })\r\n      .catch((error) => {\r\n      });\r\n\r\n    alert('Uploaded Successfully');\r\n  };\r\n\r\n\r\n\r\n  const handleGroup = () => {\r\n    axios\r\n      .post(`${apiURL}/api/create-group`, {\r\n        name: groupName,\r\n        phoneNumbers: [],\r\n      })\r\n      .then((response) => {\r\n        alert(\"Success: Group Created Successfully\");\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    axios.get(`${apiURL}/api/groups`).then((response) => {\r\n      setAllGroups(response.data.groups);\r\n    });\r\n  }, []);\r\n\r\n\r\n  const firstData = () => {\r\n    setAllGroups(null)\r\n    setForwardNumber(null)\r\n    axios.get(`${apiURL}/api/groups`).then((response) => {\r\n      setAllGroups(response.data.groups);\r\n    })\r\n      .catch((err) => console.log(err.message));\r\n    axios.get(`${apiURL}/api/forwarding`).then((response) => {\r\n      // setForwardNumber(response.data.groups);\r\n      setForwardNumber(response.data.forwardingNumbers[0].number);\r\n    })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    firstData()\r\n\r\n    // axios.get(`${apiURL}/api/concurrent-number`)\r\n    //   .then((res) => {\r\n    //     setConcur(res?.data?.concurrentNumber)\r\n    //   })\r\n    //   .catch((err) => {\r\n    //   })\r\n\r\n      console.log(active);\r\n  }, []);\r\n\r\n  // Function to extract the number inside the angle brackets from the clid property\r\n  const extractNumberFromClid = (clid) => {\r\n    const regex = /<(\\d{1,})>/;\r\n    const match = clid.match(regex);\r\n    return match && match[1] ? match[1] : null;\r\n  };\r\n\r\n  // Update the clid property for each chat object\r\n  const updatedChats = chats?.map((chat) => {\r\n    const extractedNumber = extractNumberFromClid(chat.clid);\r\n    return {\r\n      ...chat,\r\n      clid: extractedNumber ? extractedNumber : chat.clid,\r\n    };\r\n  });\r\n\r\n  useEffect(() => {\r\n    setChatWithPhone(updatedChats);\r\n  }, [chats]);\r\n  \r\n\r\n\r\n  function divideArrayIntoSubarrays(array, subarraySize) {\r\n    const dividedArrays = [];\r\n\r\n    for (let i = 0; i < array.length; i += subarraySize) {\r\n      const subarray = array.slice(i, i + subarraySize);\r\n      dividedArrays.push(subarray);\r\n    }\r\n\r\n    return dividedArrays;\r\n  }\r\n\r\n\r\n  // const handleCalling = () => {\r\n  //   if(active){\r\n  //     console.log('calls has been ended');\r\n  //     setActive(false)\r\n  //   }\r\n  //   setActive(true)\r\n  //   let phoneNumbers = [];\r\n  //   allGroups?.filter((itm) => {\r\n  //     if (selectedGroupId) {\r\n  //       return itm?._id === selectedGroupId\r\n  //     } else {\r\n  //       return true;\r\n  //     }\r\n  //   }).forEach((group, index) => {\r\n  //     group.phoneNumbers?.forEach((item, subIndex) => {\r\n  //       if (item?.number) {\r\n  //         phoneNumbers.push(\"96\" + item?.number);\r\n  //       } else {\r\n  //         phoneNumbers.push(\"96\" + item);\r\n  //       }\r\n  //     });\r\n  //   });\r\n\r\n  //   // there should be a loop here\r\n\r\n  //   // console.log('---------------------------------------', phoneNumbers)\r\n  //   // const subarraySize = 5; // Specify the size of each subarray\r\n  //   // const dividedArrays = divideArrayIntoSubarrays(phoneNumbers, subarraySize);\r\n  //   // console.log('***********', dividedArrays)\r\n\r\n  //   let tempPhone = [\r\n  //     {\r\n  //       calls: \"2\",\r\n  //       trunk: \"1001\",\r\n  //       forward: forwardNumber,\r\n  //     },\r\n  //     phoneNumbers,\r\n  //   ];\r\n\r\n  //   axios\r\n  //     .post(\r\n  //       `${apiURL}/api/call-numbers`,\r\n  //       tempPhone\r\n  //     )\r\n  //     .then((response) => alert('Calling Status Changed!'))\r\n  //     .catch((err) => {\r\n  //       setActive(false)\r\n  //       alert('Something failed! Try again Later')\r\n  //     })\r\n\r\n  //     console.log(active);\r\n\r\n  // };\r\n\r\n\r\n  const handleCalling = () => {\r\n    if (active) {\r\n      axios\r\n      .get(`${apiURL}/api/stop-calling`)\r\n      .then((response) => alert('Calls have been ended'))\r\n      .catch((err) => alert('Something failed! Try again Later'));\r\n      setActive(false);\r\n    } else {\r\n      console.log(\"all group\", allGroups)\r\n      setActive(true);\r\n      let phoneNumbers = [];\r\n      allGroups?.filter((itm) => {\r\n        if (selectedGroupId) {\r\n          return itm?._id === selectedGroupId;\r\n        } else {\r\n          return true;\r\n        }\r\n      }).forEach((group, index) => {\r\n        group.phoneNumbers?.forEach((item, subIndex) => {\r\n          console.log(\"IN FOREACH\",item.number)\r\n          if (item?.number) {\r\n            phoneNumbers.push(\"96\" + item?.number);\r\n          } else {\r\n            phoneNumbers.push(\"96\" + item);\r\n          }\r\n        });\r\n      });\r\n  \r\n      let tempPhone = [\r\n        {\r\n          calls: concur,\r\n          trunk: \"trk-\"+trunkId,\r\n          forward: forwardNumber,\r\n        },\r\n        phoneNumbers,\r\n      ];\r\n  \r\n      axios\r\n        .post(`${apiURL}/api/call-numbers`, tempPhone)\r\n        .then((response) => alert('Calling Status Changed!'))\r\n        .catch((err) => {\r\n          setActive(false);\r\n          alert('Something failed! Try again Later');\r\n        });\r\n    }\r\n  \r\n    console.log(active);\r\n  };\r\n  \r\n  const handleAddPhoneNumber = () => {\r\n\r\n    setSelectedGroupId(id)\r\n    if (!id || !phoneNumber) {\r\n      alert(\"Please select a group and provide a phone number.\", id, phoneNumber);\r\n      return;\r\n    }\r\n\r\n    const newPhoneNumberData = {\r\n      groupId: selectedGroupId,\r\n      phoneNumber: phoneNumber,\r\n      status: \"calling\", // Example status value\r\n      duration: \"10s\", // Example duration value\r\n      keyword: \"yes\", // Example keyword value\r\n      answered: \"yes\", // Example answered value\r\n    };\r\n\r\n    axios\r\n      .post(`${apiURL}/api/add-phone-number`, {\r\n        groupId: selectedGroupId,\r\n        phoneNumber: phoneNumber,\r\n      })\r\n      .then((response) => {\r\n        console.log(response)\r\n        firstData()\r\n        alert(\"Successfully added a new phone number\");\r\n      });\r\n\r\n    // Clear the input fields after adding the phone number\r\n    // setSelectedGroupId(\"\");\r\n    setPhoneNumber(\"\");\r\n  };\r\n\r\n  const [isChecked, setIsChecked] = useState(false);\r\n\r\n  const handleToggle = () => {\r\n    localStorage.setItem(\"toggle\", !isChecked);\r\n    setIsChecked(!isChecked);\r\n    setToggler(!isChecked);\r\n  };\r\n\r\n\r\n  //from and to date filter handling here\r\n  const filterHandler = () => {\r\n    if (fromDate && toDate) {\r\n      const filterResult = group?.phoneNumbers.filter(item => {\r\n        const itemDate = moment(item?.createdAt).format('YYYY/MM/DD');\r\n        return itemDate >= fromDate && itemDate <= toDate;\r\n      });\r\n\r\n      setFilterData(filterResult);\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"bg-white shadow-md sm:rounded-lg flex justify-end p-8 flex-wrap gap-3\" data-testid=\"groupBlockContainer\">\r\n\r\n      <div className=\"w-full flex gap-2 items-center\">\r\n        <div className=\"w-2/12\">\r\n          <p className=\"font-medium\">Group Name</p>\r\n        </div>\r\n        <div className=\"w-8/12\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"group--block--input rounded\"\r\n            value={groupName}\r\n            onChange={(e) => {\r\n              setGroupName(e.target.value);\r\n            }}\r\n          />\r\n        </div>\r\n        <div className=\"w-2/12\">\r\n          <Button text=\"Add Group\" onClick={handleGroup} active />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"w-full flex gap-2 items-center\">\r\n        {/* <div className=\"w-2/12\">\r\n                    <Button text='Upload Phone .xls' active />\r\n                </div> */}\r\n        {/* <div className=\"w-6/12\">\r\n          <select\r\n            className=\"group--block--input rounded\"\r\n            value={selectedGroupId}\r\n            onChange={(e) => setSelectedGroupId(e.target.value)}\r\n          >\r\n            <option value=\"\">Select a Group</option>\r\n            {allGroups?.map((group) => (\r\n              <option key={group._id} value={group._id}>\r\n                {group.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div> */}\r\n        <div className=\"w-6/12\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Add phone Number\"\r\n            className=\"group--block--input rounded\"\r\n            value={phoneNumber}\r\n            onChange={(e) => setPhoneNumber(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className=\"w-3/12\">\r\n          <Button text=\"Add Phone\" onClick={handleAddPhoneNumber} active />\r\n        </div>\r\n        <div className=\"w-3/12\">\r\n        <button\r\n      className={`btn btn-primary flex gap-1 p-2 rounded items-center w-full white-color`}\r\n      onClick={handleCalling}\r\n      style={{ background: active ?  'black' : '#256d85' }}\r\n    >\r\n      {active ? 'Stop Calling' : 'Start Calling'}\r\n    </button>\r\n          {/* <button className=\"btn btn-primary flex gap-1 p-2 rounded items-center   w-full white-color \" style={{ background: active ? '#256d85' : 'black' }} onClick={handleCalling}>Start / Stop Calling</button> */}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"w-full flex gap-2 items-center\">\r\n        <div className=\"w-4/12 flex items-center\">\r\n          <p className=\"font-medium w-40 mr-4\" style={{ textWrap: 'nowrap' }}>Upload Excel</p>\r\n          <input\r\n            type=\"file\"\r\n            className=\"group--block--input rounded w-1/2\"\r\n            id=\"file_input\"\r\n            onChange={(e) => { setFile(e.target.files[0]) }}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"w-2/12\">\r\n          <button onClick={() => { handleUploadFile() }} className=\"btn btn-primary flex gap-1 p-2 rounded items-center bg--active white-color button--main--color\">Upload</button>\r\n        </div>\r\n        <div className=\"w-2/12\">\r\n          <input\r\n            type=\"text\"\r\n            name=\"fromDate\"\r\n            value={fromDate}\r\n            onChange={(e) => setFromDate(e.target.value)}\r\n            className=\"group--block--input rounded\"\r\n            placeholder=\"YYYY/MM/DD\"\r\n          />\r\n        </div>\r\n        <div className=\"w-2/12\">\r\n          <DatePicker\r\n            customInput={<img src=\"/imgs/calendar.svg\" style={{ width: \"2rem\", height: \"2rem\" }} />}\r\n            maxDate={new Date()}\r\n            onChange={(date) => setFromDate(moment(date).format('YYYY/MM/DD'))}\r\n          />\r\n        </div>\r\n        <div className=\"w-2/12\">\r\n          <input\r\n            type=\"text\"\r\n            name=\"toDate\"\r\n            value={toDate}\r\n            onChange={(e) => setToDate(e.target.value)}\r\n            className=\"group--block--input rounded\"\r\n            placeholder=\"YYYY/MM/DD\"\r\n          />\r\n        </div>\r\n        <div className=\"w-2/12\" >\r\n          <DatePicker\r\n            customInput={<img src=\"/imgs/calendar.svg\" style={{ width: \"2rem\", height: \"2rem\" }} />}\r\n            maxDate={new Date()}\r\n            onChange={(date) => {\r\n              setToDate(moment(date).format('YYYY/MM/DD'))\r\n            }}\r\n          />\r\n        </div>\r\n        <div className=\"w-2/12\">\r\n          <Button text=\"Filter\" onClick={filterHandler} active />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex items-center space-x-4\">\r\n        <label className=\"flex items-center cursor-pointer\">\r\n          <div className=\"relative\">\r\n            <input\r\n              type=\"checkbox\"\r\n              className=\"sr-only\"\r\n              checked={isChecked}\r\n              onChange={handleToggle}\r\n            />\r\n            <div\r\n              className={`block bg-gray-600 w-10 h-6 rounded-full transition ${isChecked ? \"bg-green-500\" : \"bg-gray-600\"\r\n                }`}\r\n            ></div>\r\n            <div\r\n              className={`dot absolute  top-1 w-4 h-4 rounded-full transition ${isChecked ? \"bg-white left-5\" : \"bg-gray-400 left-1\"\r\n                }`}\r\n            ></div>\r\n          </div>\r\n          <div className=\"ml-3 text-gray-700 font-medium\">Filter Answered</div>\r\n        </label>\r\n      </div>\r\n\r\n      {\r\n        errorMessage && <>\r\n          <div class=\"p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400 absolute top-2 left-50\" role=\"alert\">\r\n            <span class=\"font-medium\">Danger alert!</span> {errorMessage}\r\n          </div>\r\n        </>\r\n      }\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Block;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}