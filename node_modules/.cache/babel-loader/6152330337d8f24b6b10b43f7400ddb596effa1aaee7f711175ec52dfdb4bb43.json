{"ast":null,"code":"\"use strict\";\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  result[\"default\"] = mod;\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar funcs_html_1 = require(\"./funcs-html\");\nvar value_types_1 = require(\"./value-types\");\nvar obj = __importStar(require(\"./helpers/object\"));\nvar arr = __importStar(require(\"./helpers/array\"));\nvar OpAttributeSanitizer_1 = require(\"./OpAttributeSanitizer\");\nvar DEFAULT_INLINE_FONTS = {\n  serif: 'font-family: Georgia, Times New Roman, serif',\n  monospace: 'font-family: Monaco, Courier New, monospace'\n};\nexports.DEFAULT_INLINE_STYLES = {\n  font: function (value) {\n    return DEFAULT_INLINE_FONTS[value] || 'font-family:' + value;\n  },\n  size: {\n    small: 'font-size: 0.75em',\n    large: 'font-size: 1.5em',\n    huge: 'font-size: 2.5em'\n  },\n  indent: function (value, op) {\n    var indentSize = parseInt(value, 10) * 3;\n    var side = op.attributes['direction'] === 'rtl' ? 'right' : 'left';\n    return 'padding-' + side + ':' + indentSize + 'em';\n  },\n  direction: function (value, op) {\n    if (value === 'rtl') {\n      return 'direction:rtl' + (op.attributes['align'] ? '' : '; text-align:inherit');\n    } else {\n      return undefined;\n    }\n  }\n};\nvar OpToHtmlConverter = function () {\n  function OpToHtmlConverter(op, options) {\n    this.op = op;\n    this.options = obj.assign({}, {\n      classPrefix: 'ql',\n      inlineStyles: undefined,\n      encodeHtml: true,\n      listItemTag: 'li',\n      paragraphTag: 'p'\n    }, options);\n  }\n  OpToHtmlConverter.prototype.prefixClass = function (className) {\n    if (!this.options.classPrefix) {\n      return className + '';\n    }\n    return this.options.classPrefix + '-' + className;\n  };\n  OpToHtmlConverter.prototype.getHtml = function () {\n    var parts = this.getHtmlParts();\n    return parts.openingTag + parts.content + parts.closingTag;\n  };\n  OpToHtmlConverter.prototype.getHtmlParts = function () {\n    var _this = this;\n    if (this.op.isJustNewline() && !this.op.isContainerBlock()) {\n      return {\n        openingTag: '',\n        closingTag: '',\n        content: value_types_1.NewLine\n      };\n    }\n    var tags = this.getTags(),\n      attrs = this.getTagAttributes();\n    if (!tags.length && attrs.length) {\n      tags.push('span');\n    }\n    var beginTags = [],\n      endTags = [];\n    var imgTag = 'img';\n    var isImageLink = function (tag) {\n      return tag === imgTag && !!_this.op.attributes.link;\n    };\n    for (var _i = 0, tags_1 = tags; _i < tags_1.length; _i++) {\n      var tag = tags_1[_i];\n      if (isImageLink(tag)) {\n        beginTags.push(funcs_html_1.makeStartTag('a', this.getLinkAttrs()));\n      }\n      beginTags.push(funcs_html_1.makeStartTag(tag, attrs));\n      endTags.push(tag === 'img' ? '' : funcs_html_1.makeEndTag(tag));\n      if (isImageLink(tag)) {\n        endTags.push(funcs_html_1.makeEndTag('a'));\n      }\n      attrs = [];\n    }\n    endTags.reverse();\n    return {\n      openingTag: beginTags.join(''),\n      content: this.getContent(),\n      closingTag: endTags.join('')\n    };\n  };\n  OpToHtmlConverter.prototype.getContent = function () {\n    if (this.op.isContainerBlock()) {\n      return '';\n    }\n    if (this.op.isMentions()) {\n      return this.op.insert.value;\n    }\n    var content = this.op.isFormula() || this.op.isText() ? this.op.insert.value : '';\n    return this.options.encodeHtml && funcs_html_1.encodeHtml(content) || content;\n  };\n  OpToHtmlConverter.prototype.getCssClasses = function () {\n    var attrs = this.op.attributes;\n    if (this.options.inlineStyles) {\n      return [];\n    }\n    var propsArr = ['indent', 'align', 'direction', 'font', 'size'];\n    if (this.options.allowBackgroundClasses) {\n      propsArr.push('background');\n    }\n    return (this.getCustomCssClasses() || []).concat(propsArr.filter(function (prop) {\n      return !!attrs[prop];\n    }).filter(function (prop) {\n      return prop === 'background' ? OpAttributeSanitizer_1.OpAttributeSanitizer.IsValidColorLiteral(attrs[prop]) : true;\n    }).map(function (prop) {\n      return prop + '-' + attrs[prop];\n    }).concat(this.op.isFormula() ? 'formula' : []).concat(this.op.isVideo() ? 'video' : []).concat(this.op.isImage() ? 'image' : []).map(this.prefixClass.bind(this)));\n  };\n  OpToHtmlConverter.prototype.getCssStyles = function () {\n    var _this = this;\n    var attrs = this.op.attributes;\n    var propsArr = [['color']];\n    if (!!this.options.inlineStyles || !this.options.allowBackgroundClasses) {\n      propsArr.push(['background', 'background-color']);\n    }\n    if (this.options.inlineStyles) {\n      propsArr = propsArr.concat([['indent'], ['align', 'text-align'], ['direction'], ['font', 'font-family'], ['size']]);\n    }\n    return (this.getCustomCssStyles() || []).concat(propsArr.filter(function (item) {\n      return !!attrs[item[0]];\n    }).map(function (item) {\n      var attribute = item[0];\n      var attrValue = attrs[attribute];\n      var attributeConverter = _this.options.inlineStyles && _this.options.inlineStyles[attribute] || exports.DEFAULT_INLINE_STYLES[attribute];\n      if (typeof attributeConverter === 'object') {\n        return attributeConverter[attrValue];\n      } else if (typeof attributeConverter === 'function') {\n        var converterFn = attributeConverter;\n        return converterFn(attrValue, _this.op);\n      } else {\n        return arr.preferSecond(item) + ':' + attrValue;\n      }\n    })).filter(function (item) {\n      return item !== undefined;\n    });\n  };\n  OpToHtmlConverter.prototype.getTagAttributes = function () {\n    if (this.op.attributes.code && !this.op.isLink()) {\n      return [];\n    }\n    var makeAttr = this.makeAttr.bind(this);\n    var customTagAttributes = this.getCustomTagAttributes();\n    var customAttr = customTagAttributes ? Object.keys(this.getCustomTagAttributes()).map(function (k) {\n      return makeAttr(k, customTagAttributes[k]);\n    }) : [];\n    var classes = this.getCssClasses();\n    var tagAttrs = classes.length ? customAttr.concat([makeAttr('class', classes.join(' '))]) : customAttr;\n    if (this.op.isImage()) {\n      this.op.attributes.width && (tagAttrs = tagAttrs.concat(makeAttr('width', this.op.attributes.width)));\n      return tagAttrs.concat(makeAttr('src', this.op.insert.value));\n    }\n    if (this.op.isACheckList()) {\n      return tagAttrs.concat(makeAttr('data-checked', this.op.isCheckedList() ? 'true' : 'false'));\n    }\n    if (this.op.isFormula()) {\n      return tagAttrs;\n    }\n    if (this.op.isVideo()) {\n      return tagAttrs.concat(makeAttr('frameborder', '0'), makeAttr('allowfullscreen', 'true'), makeAttr('src', this.op.insert.value));\n    }\n    if (this.op.isMentions()) {\n      var mention = this.op.attributes.mention;\n      if (mention.class) {\n        tagAttrs = tagAttrs.concat(makeAttr('class', mention.class));\n      }\n      if (mention['end-point'] && mention.slug) {\n        tagAttrs = tagAttrs.concat(makeAttr('href', mention['end-point'] + '/' + mention.slug));\n      } else {\n        tagAttrs = tagAttrs.concat(makeAttr('href', 'about:blank'));\n      }\n      if (mention.target) {\n        tagAttrs = tagAttrs.concat(makeAttr('target', mention.target));\n      }\n      return tagAttrs;\n    }\n    var styles = this.getCssStyles();\n    if (styles.length) {\n      tagAttrs.push(makeAttr('style', styles.join(';')));\n    }\n    if (this.op.isCodeBlock() && typeof this.op.attributes['code-block'] === 'string') {\n      return tagAttrs.concat(makeAttr('data-language', this.op.attributes['code-block']));\n    }\n    if (this.op.isContainerBlock()) {\n      return tagAttrs;\n    }\n    if (this.op.isLink()) {\n      tagAttrs = tagAttrs.concat(this.getLinkAttrs());\n    }\n    return tagAttrs;\n  };\n  OpToHtmlConverter.prototype.makeAttr = function (k, v) {\n    return {\n      key: k,\n      value: v\n    };\n  };\n  OpToHtmlConverter.prototype.getLinkAttrs = function () {\n    var tagAttrs = [];\n    var targetForAll = OpAttributeSanitizer_1.OpAttributeSanitizer.isValidTarget(this.options.linkTarget || '') ? this.options.linkTarget : undefined;\n    var relForAll = OpAttributeSanitizer_1.OpAttributeSanitizer.IsValidRel(this.options.linkRel || '') ? this.options.linkRel : undefined;\n    var target = this.op.attributes.target || targetForAll;\n    var rel = this.op.attributes.rel || relForAll;\n    return tagAttrs.concat(this.makeAttr('href', this.op.attributes.link)).concat(target ? this.makeAttr('target', target) : []).concat(rel ? this.makeAttr('rel', rel) : []);\n  };\n  OpToHtmlConverter.prototype.getCustomTag = function (format) {\n    if (this.options.customTag && typeof this.options.customTag === 'function') {\n      return this.options.customTag.apply(null, [format, this.op]);\n    }\n  };\n  OpToHtmlConverter.prototype.getCustomTagAttributes = function () {\n    if (this.options.customTagAttributes && typeof this.options.customTagAttributes === 'function') {\n      return this.options.customTagAttributes.apply(null, [this.op]);\n    }\n  };\n  OpToHtmlConverter.prototype.getCustomCssClasses = function () {\n    if (this.options.customCssClasses && typeof this.options.customCssClasses === 'function') {\n      var res = this.options.customCssClasses.apply(null, [this.op]);\n      if (res) {\n        return Array.isArray(res) ? res : [res];\n      }\n    }\n  };\n  OpToHtmlConverter.prototype.getCustomCssStyles = function () {\n    if (this.options.customCssStyles && typeof this.options.customCssStyles === 'function') {\n      var res = this.options.customCssStyles.apply(null, [this.op]);\n      if (res) {\n        return Array.isArray(res) ? res : [res];\n      }\n    }\n  };\n  OpToHtmlConverter.prototype.getTags = function () {\n    var _this = this;\n    var attrs = this.op.attributes;\n    if (!this.op.isText()) {\n      return [this.op.isVideo() ? 'iframe' : this.op.isImage() ? 'img' : 'span'];\n    }\n    var positionTag = this.options.paragraphTag || 'p';\n    var blocks = [['blockquote'], ['code-block', 'pre'], ['list', this.options.listItemTag], ['header'], ['align', positionTag], ['direction', positionTag], ['indent', positionTag]];\n    for (var _i = 0, blocks_1 = blocks; _i < blocks_1.length; _i++) {\n      var item = blocks_1[_i];\n      var firstItem = item[0];\n      if (attrs[firstItem]) {\n        var customTag = this.getCustomTag(firstItem);\n        return customTag ? [customTag] : firstItem === 'header' ? ['h' + attrs[firstItem]] : [arr.preferSecond(item)];\n      }\n    }\n    if (this.op.isCustomTextBlock()) {\n      var customTag = this.getCustomTag('renderAsBlock');\n      return customTag ? [customTag] : [positionTag];\n    }\n    var customTagsMap = Object.keys(attrs).reduce(function (res, it) {\n      var customTag = _this.getCustomTag(it);\n      if (customTag) {\n        res[it] = customTag;\n      }\n      return res;\n    }, {});\n    var inlineTags = [['link', 'a'], ['mentions', 'a'], ['script'], ['bold', 'strong'], ['italic', 'em'], ['strike', 's'], ['underline', 'u'], ['code']];\n    return inlineTags.filter(function (item) {\n      return !!attrs[item[0]];\n    }).concat(Object.keys(customTagsMap).filter(function (t) {\n      return !inlineTags.some(function (it) {\n        return it[0] == t;\n      });\n    }).map(function (t) {\n      return [t, customTagsMap[t]];\n    })).map(function (item) {\n      return customTagsMap[item[0]] ? customTagsMap[item[0]] : item[0] === 'script' ? attrs[item[0]] === value_types_1.ScriptType.Sub ? 'sub' : 'sup' : arr.preferSecond(item);\n    });\n  };\n  return OpToHtmlConverter;\n}();\nexports.OpToHtmlConverter = OpToHtmlConverter;","map":{"version":3,"names":["__importStar","mod","__esModule","result","k","Object","hasOwnProperty","call","defineProperty","exports","value","funcs_html_1","require","value_types_1","obj","arr","OpAttributeSanitizer_1","DEFAULT_INLINE_FONTS","serif","monospace","DEFAULT_INLINE_STYLES","font","size","small","large","huge","indent","op","indentSize","parseInt","side","attributes","direction","undefined","OpToHtmlConverter","options","assign","classPrefix","inlineStyles","encodeHtml","listItemTag","paragraphTag","prototype","prefixClass","className","getHtml","parts","getHtmlParts","openingTag","content","closingTag","_this","isJustNewline","isContainerBlock","NewLine","tags","getTags","attrs","getTagAttributes","length","push","beginTags","endTags","imgTag","isImageLink","tag","link","_i","tags_1","makeStartTag","getLinkAttrs","makeEndTag","reverse","join","getContent","isMentions","insert","isFormula","isText","getCssClasses","propsArr","allowBackgroundClasses","getCustomCssClasses","concat","filter","prop","OpAttributeSanitizer","IsValidColorLiteral","map","isVideo","isImage","bind","getCssStyles","getCustomCssStyles","item","attribute","attrValue","attributeConverter","converterFn","preferSecond","code","isLink","makeAttr","customTagAttributes","getCustomTagAttributes","customAttr","keys","classes","tagAttrs","width","isACheckList","isCheckedList","mention","class","slug","target","styles","isCodeBlock","v","key","targetForAll","isValidTarget","linkTarget","relForAll","IsValidRel","linkRel","rel","getCustomTag","format","customTag","apply","customCssClasses","res","Array","isArray","customCssStyles","positionTag","blocks","blocks_1","firstItem","isCustomTextBlock","customTagsMap","reduce","it","inlineTags","t","some","ScriptType","Sub"],"sources":["C:/laragon/www/doctor-manager/node_modules/quill-delta-to-html/dist/commonjs/OpToHtmlConverter.js"],"sourcesContent":["\"use strict\";\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar funcs_html_1 = require(\"./funcs-html\");\nvar value_types_1 = require(\"./value-types\");\nvar obj = __importStar(require(\"./helpers/object\"));\nvar arr = __importStar(require(\"./helpers/array\"));\nvar OpAttributeSanitizer_1 = require(\"./OpAttributeSanitizer\");\nvar DEFAULT_INLINE_FONTS = {\n    serif: 'font-family: Georgia, Times New Roman, serif',\n    monospace: 'font-family: Monaco, Courier New, monospace',\n};\nexports.DEFAULT_INLINE_STYLES = {\n    font: function (value) { return DEFAULT_INLINE_FONTS[value] || 'font-family:' + value; },\n    size: {\n        small: 'font-size: 0.75em',\n        large: 'font-size: 1.5em',\n        huge: 'font-size: 2.5em',\n    },\n    indent: function (value, op) {\n        var indentSize = parseInt(value, 10) * 3;\n        var side = op.attributes['direction'] === 'rtl' ? 'right' : 'left';\n        return 'padding-' + side + ':' + indentSize + 'em';\n    },\n    direction: function (value, op) {\n        if (value === 'rtl') {\n            return ('direction:rtl' + (op.attributes['align'] ? '' : '; text-align:inherit'));\n        }\n        else {\n            return undefined;\n        }\n    },\n};\nvar OpToHtmlConverter = (function () {\n    function OpToHtmlConverter(op, options) {\n        this.op = op;\n        this.options = obj.assign({}, {\n            classPrefix: 'ql',\n            inlineStyles: undefined,\n            encodeHtml: true,\n            listItemTag: 'li',\n            paragraphTag: 'p',\n        }, options);\n    }\n    OpToHtmlConverter.prototype.prefixClass = function (className) {\n        if (!this.options.classPrefix) {\n            return className + '';\n        }\n        return this.options.classPrefix + '-' + className;\n    };\n    OpToHtmlConverter.prototype.getHtml = function () {\n        var parts = this.getHtmlParts();\n        return parts.openingTag + parts.content + parts.closingTag;\n    };\n    OpToHtmlConverter.prototype.getHtmlParts = function () {\n        var _this = this;\n        if (this.op.isJustNewline() && !this.op.isContainerBlock()) {\n            return { openingTag: '', closingTag: '', content: value_types_1.NewLine };\n        }\n        var tags = this.getTags(), attrs = this.getTagAttributes();\n        if (!tags.length && attrs.length) {\n            tags.push('span');\n        }\n        var beginTags = [], endTags = [];\n        var imgTag = 'img';\n        var isImageLink = function (tag) {\n            return tag === imgTag && !!_this.op.attributes.link;\n        };\n        for (var _i = 0, tags_1 = tags; _i < tags_1.length; _i++) {\n            var tag = tags_1[_i];\n            if (isImageLink(tag)) {\n                beginTags.push(funcs_html_1.makeStartTag('a', this.getLinkAttrs()));\n            }\n            beginTags.push(funcs_html_1.makeStartTag(tag, attrs));\n            endTags.push(tag === 'img' ? '' : funcs_html_1.makeEndTag(tag));\n            if (isImageLink(tag)) {\n                endTags.push(funcs_html_1.makeEndTag('a'));\n            }\n            attrs = [];\n        }\n        endTags.reverse();\n        return {\n            openingTag: beginTags.join(''),\n            content: this.getContent(),\n            closingTag: endTags.join(''),\n        };\n    };\n    OpToHtmlConverter.prototype.getContent = function () {\n        if (this.op.isContainerBlock()) {\n            return '';\n        }\n        if (this.op.isMentions()) {\n            return this.op.insert.value;\n        }\n        var content = this.op.isFormula() || this.op.isText() ? this.op.insert.value : '';\n        return (this.options.encodeHtml && funcs_html_1.encodeHtml(content)) || content;\n    };\n    OpToHtmlConverter.prototype.getCssClasses = function () {\n        var attrs = this.op.attributes;\n        if (this.options.inlineStyles) {\n            return [];\n        }\n        var propsArr = ['indent', 'align', 'direction', 'font', 'size'];\n        if (this.options.allowBackgroundClasses) {\n            propsArr.push('background');\n        }\n        return (this.getCustomCssClasses() || []).concat(propsArr\n            .filter(function (prop) { return !!attrs[prop]; })\n            .filter(function (prop) {\n            return prop === 'background'\n                ? OpAttributeSanitizer_1.OpAttributeSanitizer.IsValidColorLiteral(attrs[prop])\n                : true;\n        })\n            .map(function (prop) { return prop + '-' + attrs[prop]; })\n            .concat(this.op.isFormula() ? 'formula' : [])\n            .concat(this.op.isVideo() ? 'video' : [])\n            .concat(this.op.isImage() ? 'image' : [])\n            .map(this.prefixClass.bind(this)));\n    };\n    OpToHtmlConverter.prototype.getCssStyles = function () {\n        var _this = this;\n        var attrs = this.op.attributes;\n        var propsArr = [['color']];\n        if (!!this.options.inlineStyles || !this.options.allowBackgroundClasses) {\n            propsArr.push(['background', 'background-color']);\n        }\n        if (this.options.inlineStyles) {\n            propsArr = propsArr.concat([\n                ['indent'],\n                ['align', 'text-align'],\n                ['direction'],\n                ['font', 'font-family'],\n                ['size'],\n            ]);\n        }\n        return (this.getCustomCssStyles() || [])\n            .concat(propsArr\n            .filter(function (item) { return !!attrs[item[0]]; })\n            .map(function (item) {\n            var attribute = item[0];\n            var attrValue = attrs[attribute];\n            var attributeConverter = (_this.options.inlineStyles &&\n                _this.options.inlineStyles[attribute]) ||\n                exports.DEFAULT_INLINE_STYLES[attribute];\n            if (typeof attributeConverter === 'object') {\n                return attributeConverter[attrValue];\n            }\n            else if (typeof attributeConverter === 'function') {\n                var converterFn = attributeConverter;\n                return converterFn(attrValue, _this.op);\n            }\n            else {\n                return arr.preferSecond(item) + ':' + attrValue;\n            }\n        }))\n            .filter(function (item) { return item !== undefined; });\n    };\n    OpToHtmlConverter.prototype.getTagAttributes = function () {\n        if (this.op.attributes.code && !this.op.isLink()) {\n            return [];\n        }\n        var makeAttr = this.makeAttr.bind(this);\n        var customTagAttributes = this.getCustomTagAttributes();\n        var customAttr = customTagAttributes\n            ? Object.keys(this.getCustomTagAttributes()).map(function (k) {\n                return makeAttr(k, customTagAttributes[k]);\n            })\n            : [];\n        var classes = this.getCssClasses();\n        var tagAttrs = classes.length\n            ? customAttr.concat([makeAttr('class', classes.join(' '))])\n            : customAttr;\n        if (this.op.isImage()) {\n            this.op.attributes.width &&\n                (tagAttrs = tagAttrs.concat(makeAttr('width', this.op.attributes.width)));\n            return tagAttrs.concat(makeAttr('src', this.op.insert.value));\n        }\n        if (this.op.isACheckList()) {\n            return tagAttrs.concat(makeAttr('data-checked', this.op.isCheckedList() ? 'true' : 'false'));\n        }\n        if (this.op.isFormula()) {\n            return tagAttrs;\n        }\n        if (this.op.isVideo()) {\n            return tagAttrs.concat(makeAttr('frameborder', '0'), makeAttr('allowfullscreen', 'true'), makeAttr('src', this.op.insert.value));\n        }\n        if (this.op.isMentions()) {\n            var mention = this.op.attributes.mention;\n            if (mention.class) {\n                tagAttrs = tagAttrs.concat(makeAttr('class', mention.class));\n            }\n            if (mention['end-point'] && mention.slug) {\n                tagAttrs = tagAttrs.concat(makeAttr('href', mention['end-point'] + '/' + mention.slug));\n            }\n            else {\n                tagAttrs = tagAttrs.concat(makeAttr('href', 'about:blank'));\n            }\n            if (mention.target) {\n                tagAttrs = tagAttrs.concat(makeAttr('target', mention.target));\n            }\n            return tagAttrs;\n        }\n        var styles = this.getCssStyles();\n        if (styles.length) {\n            tagAttrs.push(makeAttr('style', styles.join(';')));\n        }\n        if (this.op.isCodeBlock() &&\n            typeof this.op.attributes['code-block'] === 'string') {\n            return tagAttrs.concat(makeAttr('data-language', this.op.attributes['code-block']));\n        }\n        if (this.op.isContainerBlock()) {\n            return tagAttrs;\n        }\n        if (this.op.isLink()) {\n            tagAttrs = tagAttrs.concat(this.getLinkAttrs());\n        }\n        return tagAttrs;\n    };\n    OpToHtmlConverter.prototype.makeAttr = function (k, v) {\n        return { key: k, value: v };\n    };\n    OpToHtmlConverter.prototype.getLinkAttrs = function () {\n        var tagAttrs = [];\n        var targetForAll = OpAttributeSanitizer_1.OpAttributeSanitizer.isValidTarget(this.options.linkTarget || '')\n            ? this.options.linkTarget\n            : undefined;\n        var relForAll = OpAttributeSanitizer_1.OpAttributeSanitizer.IsValidRel(this.options.linkRel || '')\n            ? this.options.linkRel\n            : undefined;\n        var target = this.op.attributes.target || targetForAll;\n        var rel = this.op.attributes.rel || relForAll;\n        return tagAttrs\n            .concat(this.makeAttr('href', this.op.attributes.link))\n            .concat(target ? this.makeAttr('target', target) : [])\n            .concat(rel ? this.makeAttr('rel', rel) : []);\n    };\n    OpToHtmlConverter.prototype.getCustomTag = function (format) {\n        if (this.options.customTag &&\n            typeof this.options.customTag === 'function') {\n            return this.options.customTag.apply(null, [format, this.op]);\n        }\n    };\n    OpToHtmlConverter.prototype.getCustomTagAttributes = function () {\n        if (this.options.customTagAttributes &&\n            typeof this.options.customTagAttributes === 'function') {\n            return this.options.customTagAttributes.apply(null, [this.op]);\n        }\n    };\n    OpToHtmlConverter.prototype.getCustomCssClasses = function () {\n        if (this.options.customCssClasses &&\n            typeof this.options.customCssClasses === 'function') {\n            var res = this.options.customCssClasses.apply(null, [this.op]);\n            if (res) {\n                return Array.isArray(res) ? res : [res];\n            }\n        }\n    };\n    OpToHtmlConverter.prototype.getCustomCssStyles = function () {\n        if (this.options.customCssStyles &&\n            typeof this.options.customCssStyles === 'function') {\n            var res = this.options.customCssStyles.apply(null, [this.op]);\n            if (res) {\n                return Array.isArray(res) ? res : [res];\n            }\n        }\n    };\n    OpToHtmlConverter.prototype.getTags = function () {\n        var _this = this;\n        var attrs = this.op.attributes;\n        if (!this.op.isText()) {\n            return [\n                this.op.isVideo() ? 'iframe' : this.op.isImage() ? 'img' : 'span',\n            ];\n        }\n        var positionTag = this.options.paragraphTag || 'p';\n        var blocks = [\n            ['blockquote'],\n            ['code-block', 'pre'],\n            ['list', this.options.listItemTag],\n            ['header'],\n            ['align', positionTag],\n            ['direction', positionTag],\n            ['indent', positionTag],\n        ];\n        for (var _i = 0, blocks_1 = blocks; _i < blocks_1.length; _i++) {\n            var item = blocks_1[_i];\n            var firstItem = item[0];\n            if (attrs[firstItem]) {\n                var customTag = this.getCustomTag(firstItem);\n                return customTag\n                    ? [customTag]\n                    : firstItem === 'header'\n                        ? ['h' + attrs[firstItem]]\n                        : [arr.preferSecond(item)];\n            }\n        }\n        if (this.op.isCustomTextBlock()) {\n            var customTag = this.getCustomTag('renderAsBlock');\n            return customTag ? [customTag] : [positionTag];\n        }\n        var customTagsMap = Object.keys(attrs).reduce(function (res, it) {\n            var customTag = _this.getCustomTag(it);\n            if (customTag) {\n                res[it] = customTag;\n            }\n            return res;\n        }, {});\n        var inlineTags = [\n            ['link', 'a'],\n            ['mentions', 'a'],\n            ['script'],\n            ['bold', 'strong'],\n            ['italic', 'em'],\n            ['strike', 's'],\n            ['underline', 'u'],\n            ['code'],\n        ];\n        return inlineTags.filter(function (item) { return !!attrs[item[0]]; }).concat(Object.keys(customTagsMap)\n            .filter(function (t) { return !inlineTags.some(function (it) { return it[0] == t; }); })\n            .map(function (t) { return [t, customTagsMap[t]]; })).map(function (item) {\n            return customTagsMap[item[0]]\n                ? customTagsMap[item[0]]\n                : item[0] === 'script'\n                    ? attrs[item[0]] === value_types_1.ScriptType.Sub\n                        ? 'sub'\n                        : 'sup'\n                    : arr.preferSecond(item);\n        });\n    };\n    return OpToHtmlConverter;\n}());\nexports.OpToHtmlConverter = OpToHtmlConverter;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}